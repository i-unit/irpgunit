      /* =================================================================== */
      /* iRPGUnit - Make RUCALLTST program.                                  */
      /*                                                                     */
      /*  Usage: CALL MKCALLTST TARGETLIB                                    */
      /*    where TARGETLIB is the library containing the RPGUnit            */
      /*    source files.                                                    */
      /* =================================================================== */
      /*  Copyright (c) 2013-2019 iRPGUnit Project Team                      */
      /*  All rights reserved. This program and the accompanying materials   */
      /*  are made available under the terms of the Common Public License    */
      /*  v1.0 which accompanies this distribution, and is available at      */
      /*  http://www.eclipse.org/legal/cpl-v10.html                          */
      /* =================================================================== */
      /* >>PRE-COMPILER<<                                                    */
      /*   >>CRTCMD<< CRTBNDCL     PGM(&LI/&OB) +                            */
      /*                           SRCFILE(&SL/&SF) +                        */
      /*                           SRCMBR(&SM);                              */
      /*   >>COMPILE<<                                                       */
      /*     >>PARM<< DBGVIEW(*LIST);                                        */
      /*     >>PARM<< OPTION(*EVENTF);                                       */
      /*   >>END-COMPILE<<                                                   */
      /*   >>EXECUTE<<                                                       */
      /* >>END-PRE-COMPILER<<                                                */
      /* =================================================================== */
             PGM        PARM(&TARGETLIB &I_DBGVIEW &I_TGTRLS)

             DCL        VAR(&TARGETLIB) TYPE(*CHAR) LEN(10)
             DCL        VAR(&I_DBGVIEW) TYPE(*CHAR) LEN(10)
             DCL        VAR(&I_TGTRLS ) TYPE(*CHAR) LEN(10)

             DCL        VAR(&DBGVIEW  ) TYPE(*CHAR) LEN(10) VALUE('*YES')
             DCL        VAR(&TGTRLS   ) TYPE(*CHAR) LEN(10) VALUE(*CURRENT)

             CHGVAR     VAR(&DBGVIEW) VALUE(&I_DBGVIEW)
             MONMSG     MSGID(MCH3601) EXEC(DO)
                RMVMSG     PGMQ(*SAME (*)) CLEAR(*ALL)
             ENDDO

             CHGVAR     VAR(&TGTRLS) VALUE(&I_TGTRLS)
             MONMSG     MSGID(MCH3601) EXEC(DO)
                RMVMSG     PGMQ(*SAME (*)) CLEAR(*ALL)
             ENDDO

             CHGVAR     VAR(&TARGETLIB) VALUE(&TARGETLIB)
             MONMSG     MSGID(MCH3601) EXEC(SNDPGMMSG MSGID(CPF9898) +
                          MSGF(QCPFMSG) MSGDTA('Target library +
                          parameter required.') MSGTYPE(*ESCAPE))

             CRTBNDCL   PGM(QTEMP/MKLLIST) SRCFILE(&TARGETLIB/QLLIST) SRCMBR(*PGM)
             CALL       PGM(QTEMP/MKLLIST) PARM(&TARGETLIB &DBGVIEW &TGTRLS)

             CMPMOD     MODULE(QTEMP/CMDRUN) SRCFILE(QSRC) +
                          DBGVIEW(&DBGVIEW) TGTRLS(&TGTRLS)
             CMPMOD     MODULE(QTEMP/CMDRUNLOG) SRCFILE(QSRC) +
                          DBGVIEW(&DBGVIEW) TGTRLS(&TGTRLS)
             CMPMOD     MODULE(QTEMP/CMDRUNPRT) SRCFILE(QSRC) +
                          DBGVIEW(&DBGVIEW) TGTRLS(&TGTRLS)
             CMPMOD     MODULE(QTEMP/CMDRUNSRV) SRCFILE(QSRC) +
                          DBGVIEW(&DBGVIEW) TGTRLS(&TGTRLS)
             CMPMOD     MODULE(QTEMP/CALLPROC) SRCFILE(QSRC) +
                          DBGVIEW(&DBGVIEW) TGTRLS(&TGTRLS)
             CMPMOD     MODULE(QTEMP/EXTPRC) SRCFILE(QSRC) +
                          DBGVIEW(&DBGVIEW) TGTRLS(&TGTRLS)
             CMPMOD     MODULE(QTEMP/EXTTST) SRCFILE(QSRC) +
                          DBGVIEW(&DBGVIEW) TGTRLS(&TGTRLS)
             CMPMOD     MODULE(QTEMP/LIBL  ) SRCFILE(QSRC) +
                          DBGVIEW(&DBGVIEW) TGTRLS(&TGTRLS)
             CMPMOD     MODULE(QTEMP/PGMMSG) SRCFILE(QSRC) +
                          DBGVIEW(&DBGVIEW) TGTRLS(&TGTRLS)
             CMPMOD     MODULE(QTEMP/STRING) SRCFILE(QSRC) +
                          DBGVIEW(&DBGVIEW) TGTRLS(&TGTRLS)
             CMPMOD     MODULE(QTEMP/USRSPC) SRCFILE(QSRC) +
                          DBGVIEW(&DBGVIEW) TGTRLS(&TGTRLS)
             CMPMOD     MODULE(QTEMP/XMLWRITER) SRCFILE(QSRC) +
                          DBGVIEW(&DBGVIEW) TGTRLS(&TGTRLS)

             CRTPGM     PGM(&TARGETLIB/RUCALLTST) +
                          MODULE(QTEMP/CMDRUN  +
                                 QTEMP/CMDRUNLOG  +
                                 QTEMP/CMDRUNPRT  +
                                 QTEMP/CMDRUNSRV  +
                                 QTEMP/CALLPROC   +
                                 QTEMP/EXTPRC     +
                                 QTEMP/EXTTST     +
                                 QTEMP/LIBL       +
                                 QTEMP/LLIST      +
                                 QTEMP/PGMMSG     +
                                 QTEMP/STRING     +
                                 QTEMP/USRSPC     +
                                 QTEMP/XMLWRITER) +
                          ENTMOD(QTEMP/CMDRUN) +
                          BNDSRVPGM(*LIBL/RUTESTCASE) +
                          ACTGRP(*NEW) +
                          ALWUPD(*YES) +
                          ALWLIBUPD(*YES) +
                          DETAIL(*NONE) +
                          TGTRLS(&TGTRLS) +
                          TEXT('iRPGUnit - Execute Test Suite.')

             CRTPNLGRP  PNLGRP(&TARGETLIB/RUCALLTST) SRCFILE(QPNLGRP)

             CRTCMD     CMD(&TARGETLIB/RUCALLTST) +
                          PGM(*LIBL/RUCALLTST) +
                          SRCFILE(QCMD) +
                          HLPPNLGRP(*LIBL/RUCALLTST) +
                          HLPID(RUCALLTST)

             ENDPGM
